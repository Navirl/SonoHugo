---
tags:
  - Bar
---

date:: [2024-09-22](Daily_Note/2024-09-22.md)
up:: [Linux](../Linux.md)

## test

[ポート開放できない？主な原因とトラブルシューティング  |  Novaの日記](https://novablog.work/why-port/#toc32)

windows
```
tnc 90.149.172.31 -port 25565
```

linux
```
nc -vz 90.149.172.31 25565
```

## 概観
[ポート開放とは何か？ | Minecraftサーバーを動かす知識](https://e-craft.io/beginner/port-open/)

グローバルIPアドレスでアクセスできる機器の対象をローカルIPアドレスに割り当てる。
つまり、ポートマッピングに複数の機器を設定するとどれに接続するか分からず止まる。

今回は

## DMZ
demilitarized zone。
ここに入れた機器への通信は全て通る。

## nmap --traceroute
ポート指定で経路を表記してくれるコマンド。
使用にはインストールが必要。

[【Windows】tracerouteをTCP/UDP ポート指定で 実行 \~nmap –tracerouteオプション\~  |  SEの道標](https://milestone-of-se.nesuke.com/knowhow/test-tool/windows-tcp-udp-traceroute/)

## Create
歯車でからくりを動かすMod。

自動線路引き。地下行きがむずい。
地下に敷くには壁を破壊しなければならない。その際、破壊した跡にレールを敷く必要がある。
レールを敷くにはDeployerを使うが、これはすぐ置いてくれるわけではなくからくりの速度に準じて設置速度が変わる。

線路は直下には敷けないため、階段掘りをしなければならない。

自動で壁を壊すには、ドリルやホイールに回転力を与えながら階段状に下ろしていくのがいい。

物を直線で移動させるなら
- Mechanical Stickey Piston
- Gantry Shaft
- Cart Assembler
- Train
らへん。その中で回転力となるとPistonが外れる。


shaftは斜め移動が難しい。二つ重ねることは出来るが、もう片方を動かすには一つ目をレッドストーンで止める必要がある。
一ブロック動くごとにレッドストーンパルスを送る方法と言えばレッドストーンブロックを使用した方法だが、横はともかく縦でパルスを送る方法が見当つかない。（からくり上同じ列には同じブロックしか並べられない）
パルス用の坂道を別に作ればいいか？

シャフト回転→
シャフト切れて止まる→
RSBからパルス得る→
シャフトパルス→
carrigeから動力を得て先のシャフトを配置→
（縦シャフト回転→
縦シャフト切れて止まる→
縦RSBからパルス得る→
縦シャフトパルス→
carrigeから動力を得て先の縦シャフトを配置）→
パルス用階段を通じて縦RSBの出力を入手し、横シャフトを再度動かす。
これならと思ったが、よく考えればレッドストーン強度問題がある。パルス階段を渡り切れない。ならばいっそ15ブロック分を一気に削りストーンとリピーターを一気に配置すればいいが、コストヤバそう。Redstone Linkでいける？

ごく当たり前だが、シャフトと重なるブロックがあるとシャフトを動かすことが出来なかった。これを克服するには、シャフトが動くたびにドリルを追加する上、何らかの方法でそれをくっつけなければならない。
chassisを使うにしても、数値をどこかで指定しなければ余計なブロックがくっつく。


Assemblerは有力だが、トロッコの速度によってからくりの速度が変わるのがきつい。
斜めに線路を引くため、壁を壊す→壊した場所に線路を置く、というサイクルを回す必要がある。しかしトロッコ速度が速いと壁を壊すより先に線路が置かれる、線路を置く速度が間に合わず線路が途切れるといった問題が出る。
トロッコの線路だと先に置かれても真っ直ぐになるだけだが、列車の線路だと斜めでなくなり繋がりが切れてしまうため大問題。途切れるのは言わずもがな。
トロッコ速度を一定にすれば問題ないが、そのためにcontroller railに換装するとコスト面とレッドストーンパルス問題が出る。


Train。Assemblerと同様の問題がある。
一定で走らせるのはスクロールホイールで可能だが、そもそも45度の坂道線路に接続するためには1ブロック下げと2ブロック隙間が無いといけない。
この隙間でドリルが線路を破壊したり、置かなくていい線路を置いたりする可能性はある。ただ回路が単純。
山なりなので問題ないっぽい。なので谷になる登りは引き続きトロッコに任せる。


カーブには線路含めで9x9必要。そもそも単純配置で何とかなるもんではないのでカーブは手動で配置。

create-server.tomlのmaxBlocksMovedで運べるブロックの最大数を決定できる。




