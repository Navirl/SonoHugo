---
date: 2024-12-21T15:22:30+09:00
title: "実験計画法"
tags:
 - Info
---

daily:: [2023-03-24](/Daily_Note/2023-03-24.md)
up:: [Component](../Bar/Novel/Chaos/Component.md)
up:: [Science](../Bar/Novel/Topics/Science.md)

## 要因計画
最も実験回数が少なくて済む実験法。
作るのがめんどく三水準以上になると非常に大変。
応答が線形であるときに有効。

要因の組み合わせによる効果を要因効果という。
この要因効果はまともに総当たりすると判定するまでの実験数が増えすぎる。
（とはいえそのほうが確実なので往々にしてやってる。要因配置実験という）

そこで出てくるのが要因計画：部分配置実験。
少ない実験回数で各因子の効果、因子間の交互作用効果を測定する方法。
まずは以下の直行表。

| No. | 1   | 2   | 3   | 4   | 5   | 6   | 7   |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 1   | 1   | 1   | 1   | 1   | 1   | 1   | 1   |
| 2   | 1   | 1   | 1   | 2   | 2   | 2   | 2   |
| 3   | 1   | 2   | 2   | 1   | 1   | 2   | 2   |
| 4   | 1   | 2   | 2   | 2   | 2   | 1   | 1   |
| 5   | 2   | 1   | 2   | 1   | 2   | 1   | 2   |
| 6   | 2   | 1   | 2   | 2   | 1   | 2   | 1   |
| 7   | 2   | 2   | 1   | 1   | 2   | 2   | 1   |
| 8   | 2   | 2   | 2   | 2   | 1   | 1   | 2   |

行が実験数、列が要因(因子)数。今回はそれぞれ８、７。
それぞれの水準は１か２しかないので水準数2。(これは水準であり別因子で同じものを指すわけではない)
よって表し方はこう。

$L_8(2^7)$

要因配置実験なら$2^8$回必要なところを、8回に圧縮している。
ポイントはどの2列を見ても4つの水準組合せ(1,1)、(1,2)、(2,1)、(2,2)が同じ数ずつ現れること。

そのため、1つの因子を調べたいときは、水準1の4つ、水準2の四つのそれぞれの実験結果の平均を比べればいい。他の因子の効果は**相殺**され、1つの因子の効果が独立して分かるようになっている。


実践。美味しい出しを取るのに、種類、温度、時間の三つの因子、そしてそれぞれに二つの水準を設ける。

本来なら実験数が$2^3=8$かかるところ、水準組合せ倍数の4回で済む。実験数は水準の組み合わせの倍数で、かつ因子数を越えてればいい感じだろうか。

[実験計画法の種類（要因配置実験と部分配置実験） | アイアール技術者教育研究所 | 製造業エンジニア・研究開発者のための研修/教育ソリューション](https://engineer-education.com/experimental-design03_types/)

## 割り付け

因子同士で交互作用が起きないなら、どの列に因子を置いてもいい。
しかし交互作用が起きる場合で、その交互作用を表した因子は割付場所をミスると要因効果がまじりあってしまう。これを交絡という。

これを防ぐために、二つの割り当て方がある。まずは成分記号。成分それぞれにa,bなど記号を割り当て、交互作用を表す因子はabといった積で表す。中の水準は論理積として、11なら1、12なら2、22なら1を返す感じで決定する。

一応三水準以上でも同じような方法で決められるらしいが、よくわからんかった。
まあ直交表自体3水準以上に向いてないらしいし良いか。

[実験計画法＝直交表はもう古い。今すぐやめるべき５つの理由【確信】│SQC BLOG](https://no3good.com/doe-orthogonal-table/)

## 応答曲面法
主流。因子が応答変数に与える影響をモデル化し、最終的に最適な因子の組み合わせを見つける。
最終目標は要因計画と同じ。ただモデル化には応答変数を目的変数y、入力因子を説明変数xとして、回帰分析を使って式を作り上げる。
